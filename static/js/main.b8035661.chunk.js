(this["webpackJsonpit-kama-0-to-hero"]=this["webpackJsonpit-kama-0-to-hero"]||[]).push([[0],{121:function(e,t,n){e.exports={item:"MyPosts_item__38gXC"}},122:function(e,t,n){e.exports={item:"Post_item__2T8KE"}},123:function(e,t,n){e.exports={big_img:"Profile_big_img__mWnu2"}},124:function(e,t,n){e.exports={big_img:"ProfileInfo_big_img__qSkve"}},125:function(e,t,n){e.exports={loader:"Loader_loader__2CB8u"}},126:function(e,t,n){e.exports={currentPage:"User_currentPage__OTpEZ"}},157:function(e,t,n){},179:function(e,t,n){},280:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),c=n(56),o=n.n(c),a=(n(157),n(7)),i=n(10),u=n(5),l=n(28),j=n(119).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"2d18e6a1-07c6-4a63-bb8c-cb657f12d04b"}}),d=function(e){return j.get("users?page=".concat(e,"&count=10"))},b=function(e){return j.post("follow/".concat(e))},f=function(e){return j.delete("follow/".concat(e))},O=function(e){return j.get("profile/".concat(e))},h=function(e){return j.get("profile/status/".concat(e))},m=function(){return j.get("auth/me")},g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return j.post("/auth/login",{email:e,password:t,rememberMe:n})},x=function(){return j.delete("/auth/login")},p="SET_USER_DATA",v={userId:null,email:null,login:null,isAuth:!1},_=function(e,t,n,r){return{type:p,data:{userId:e,email:t,login:n,isAuth:r}}},w=function(){return function(e){return m().then((function(t){var n=t.data.data,r=n.userId,s=n.email,c=n.login;0===t.data.resultCode&&e(_(r,s,c,!0))}))}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(u.a)(Object(u.a)({},e),t.data);default:return e}},y="SET_INITIALIZED",S={initialized:!1},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(u.a)(Object(u.a)({},e),{},{initialized:!0});default:return e}},E=(n(179),n(37)),T="ADD_MESSAGE",k={messagesData:[{id:1,message:"How are you ?"},{id:2,message:"Do you wanna kesyou"},{id:3,message:"Create your app"}],dialogData:[{id:1,name:"Sergey"},{id:2,name:"Katya"},{id:3,name:"Pitbuel"}],newMessageText:"Holla"},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(u.a)(Object(u.a)({},e),{},{messagesData:[].concat(Object(E.a)(e.messagesData),[{id:5,message:t.message}])});default:return e}},F=n(0),I=function(e){return{isAuth:e.auth.isAuth}},D=function(e){return Object(i.b)(I)((function(t){return t.isAuth?Object(F.jsx)(e,Object(u.a)({},t)):Object(F.jsx)(a.a,{to:"/login"})}))},C=n(115),U=n(116),L=function(e){if(!e)return"Field is required"},M=function(e){return function(t){if(t&&t.length>e)return"max length is "+e}},q=n(85),B=n(30),z=n.n(B),R=function(e){var t=e.input,n=e.meta,r=Object(q.a)(e,["input","meta"]),s=n.touched&&n.error;return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("textarea",Object(u.a)(Object(u.a)({className:s&&z.a.error},t),r)),Object(F.jsx)("div",{children:s&&Object(F.jsx)("span",{className:z.a.error_message,children:n.error})})]})},W=function(e){var t=e.input,n=e.meta,r=Object(q.a)(e,["input","meta"]),s=n.touched&&n.error;return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("input",Object(u.a)(Object(u.a)({className:s&&z.a.error},t),r)),Object(F.jsx)("div",{children:s&&Object(F.jsx)("span",{className:z.a.error_message,children:n.error})})]})},H=n(17);var K=function(e){var t=e.name,n=e.id;return Object(F.jsx)("div",{className:"dialog",children:Object(F.jsx)(H.b,{to:"/dialogs/".concat(n),children:t})})},Z=n(81),G=n.n(Z);var X=function(e){var t=e.message;return Object(F.jsx)("div",{className:"message",children:t})},J=M(30),Y=Object(U.a)({form:"dialogs"})((function(e){return Object(F.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(F.jsx)(C.a,{component:R,name:"message",validate:[L,J],placeholder:"enter message"}),Object(F.jsx)("button",{children:"SEND"})]})}));var V=D((function(e){var t=e.dialogsPage,n=e.addNewMessage2;return e.isAuth?Object(F.jsxs)("div",{className:G.a.dialogs,children:[Object(F.jsx)("div",{className:"dialogs-item",children:t.dialogData.map((function(e){return Object(F.jsx)(K,{name:e.name,id:e.id})}))}),Object(F.jsx)("div",{className:G.a.messages,children:t.messagesData.map((function(e){return Object(F.jsx)(X,{message:e.message})}))}),Object(F.jsx)("div",{children:Object(F.jsx)(Y,{onSubmit:function(e){n(e.message)}})})]}):Object(F.jsx)(a.a,{to:"/login"})})),Q=Object(i.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{addNewMessage2:function(t){e(function(e){return{type:T,message:e}}(t))}}}))(V),$=n(84),ee=n.n($);var te=function(e){return Object(F.jsxs)("header",{className:ee.a.header,children:[Object(F.jsx)("img",{src:"http://iconutopia.com/wp-content/uploads/2016/06/space-dog-laika1.png",alt:"icon"}),Object(F.jsx)("div",{className:ee.a.loginBlock,children:e.isAuth?Object(F.jsxs)("div",{children:["Welcome  ",Object(F.jsx)("button",{onClick:e.logoutThunk,children:"Logout"})]}):Object(F.jsx)(H.b,{to:"/login",children:"Login"})})]})},ne=Object(i.b)((function(e){return{isAuth:e.auth.isAuth}}),{logoutThunk:function(){return function(e){x().then((function(t){console.log(t),0===t.data.resultCode&&e(_(null,null,null,!1))}))}}})((function(e){return Object(F.jsx)(te,Object(u.a)({},e))})),re=M(30),se=Object(U.a)({form:"login"})((function(e){return Object(F.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(F.jsx)("div",{children:Object(F.jsx)(C.a,{component:W,type:"email",validate:[L,re],name:"email",placeholder:"Login"})}),Object(F.jsx)("div",{children:Object(F.jsx)(C.a,{component:W,validate:[L,re],name:"password",placeholder:"password"})}),Object(F.jsxs)("div",{children:[" remember Me",Object(F.jsx)(C.a,{component:W,name:"rememberMe",type:"checkbox"})]}),e.error&&Object(F.jsx)("div",{className:z.a.summaryError,children:e.error}),Object(F.jsx)("div",{children:Object(F.jsx)("button",{children:"Submit"})})]})})),ce=Object(i.b)((function(e){return{isAuth:e.auth.isAuth}}),{loginThunk:function(e,t,n){return function(r){g(e,t,n).then((function(e){0===e.data.resultCode?r(w()):r(Object(l.a)("login",{_error:"Email or password is incorrect !"}))}))}}})((function(e){return e.isAuth?Object(F.jsx)(a.a,{to:"/profile"}):Object(F.jsxs)("div",{children:[Object(F.jsx)("h1",{children:"Login page"}),Object(F.jsx)(se,{onSubmit:function(t){e.loginThunk(t.email,t.password,t.rememberMe)}})]})})),oe=n(31),ae=n.n(oe);var ie=function(){return Object(F.jsxs)("nav",{className:ae.a.nav,children:[Object(F.jsxs)("div",{className:ae.a.item,children:[" ",Object(F.jsx)(H.b,{to:"/profile",children:"Profile"})]}),Object(F.jsxs)("div",{className:ae.a.item,children:[" ",Object(F.jsx)(H.b,{to:"/dialogs",children:"Messages"})]}),Object(F.jsxs)("div",{className:ae.a.item,children:[" ",Object(F.jsx)(H.b,{to:"/users",children:"Users"})]}),Object(F.jsxs)("div",{className:ae.a.item,children:[" ",Object(F.jsx)("a",{children:"Music "})]}),Object(F.jsxs)("div",{className:ae.a.item,children:[" ",Object(F.jsx)("a",{children:"Settings"})]})]})},ue="ADD_POST",le="SET_USER_PROFILE",je="SET_STATUS",de={posts:["hello man","Machine Learning","can i help you ","do you have a qustions ?"],userProfile:{},status:""},be=function(e){return function(t){O(e).then((function(e){var n;t((n=e.data,{type:le,payload:n}))}))}},fe=function(e){return function(t){h(e).then((function(e){var n;t((n=e.data.status,{type:je,status:n}))}))}},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:return Object(u.a)(Object(u.a)({},e),{},{userProfile:t.payload});case ue:return Object(u.a)(Object(u.a)({},e),{},{posts:[].concat(Object(E.a)(e.posts),[t.newPostText])});case je:return Object(u.a)(Object(u.a)({},e),{},{status:t.status});default:return e}},he=n(121),me=n.n(he),ge=n(122),xe=n.n(ge);var pe=function(e){var t=e.text;return Object(F.jsxs)("div",{className:xe.a.item,children:[Object(F.jsx)("img",{src:"https://cdn.vox-cdn.com/thumbor/48ExsWf9xBecr-aK18m01PRLVio=/95x601:1280x1460/1400x933/filters:focal(538x858:742x1062):no_upscale()/cdn.vox-cdn.com/uploads/chorus_image/image/66699060/mgidarccontentnick.comc008fa9d_d.0.png",alt:""}),t]})},ve=M(10),_e=Object(U.a)({form:"newPost"})((function(e){return Object(F.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(F.jsx)(C.a,{component:R,name:"newPostText",placeholder:"Enter post",validate:[L,ve]}),Object(F.jsx)("div",{children:Object(F.jsx)("button",{children:"Add post"})})]})}));var we=function(e){var t=e.posts,n=e.addNewPost;return console.log("my post rendered !!"),Object(F.jsxs)("div",{children:[Object(F.jsx)("h5",{children:" My  post "}),Object(F.jsx)("div",{children:Object(F.jsx)(_e,{onSubmit:function(e){n(e.newPostText)}})}),Object(F.jsx)("div",{className:me.a.posts,children:t.map((function(e,t){return Object(F.jsx)(pe,{text:e},"".concat(e,"__obj"))}))})]})},Pe=Object(i.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addNewPost:function(t){e(function(e){return{type:ue,newPostText:e}}(t))}}}))(we),ye=n(123),Se=n.n(ye),Ne=n(124),Ee=n.n(Ne),Te=n(47),ke=function(e){var t=s.a.useState(!1),n=Object(Te.a)(t,2),r=n[0],c=n[1],o=s.a.useState(e.status),a=Object(Te.a)(o,2),i=a[0],u=a[1];return Object(F.jsx)("div",{children:r?Object(F.jsx)("div",{children:Object(F.jsx)("input",{type:"text",value:i,autoFocus:!0,onBlur:function(){c(!1)},onChange:function(e){u(e.target.value)}})}):Object(F.jsxs)("div",{onDoubleClick:function(){c(!0)},children:[" ",e.status," "]})})};var Ae=function(e){return Object(F.jsxs)("div",{children:[Object(F.jsx)("div",{children:Object(F.jsx)("img",{className:Ee.a.big_img,src:"https://otakukart.com/wp-content/uploads/2020/12/Boruto-Naruto-Next-Generations-Chapter-54-Release-Date-and-Details.jpg"})}),Object(F.jsx)("div",{children:e.userProfile.fullName}),Object(F.jsx)("div",{children:Object(F.jsx)(ke,{status:e.userStatus})})]})};var Fe=function(e){return Object(F.jsxs)("div",{className:Se.a.content,children:[Object(F.jsx)(Ae,Object(u.a)({},e)),Object(F.jsx)(Pe,{})]})},Ie=D((function(e){var t=e.match.params.userId;return t||(t="2"),s.a.useEffect((function(){e.setUserStatus(t),e.setUserProfile(t)}),[]),Object(F.jsx)(Fe,Object(u.a)({},e))})),De=Object(a.f)(Ie),Ce=Object(i.b)((function(e){return{userProfile:e.profilePage.userProfile,userStatus:e.profilePage.status}}),(function(e){return{setUserProfile:function(t){e(be(t))},setUserStatus:function(t){e(fe(t))}}}))(De),Ue=Object(U.a)({form:"test"})((function(e){return Object(F.jsxs)("form",{onSubmit:e.handleSubmit,children:[e.questions.map((function(e,t){return Object(F.jsxs)("div",{children:[Object(F.jsx)("div",{children:e.question}),e.vars.map((function(t,n){return Object(F.jsxs)("div",{children:[Object(F.jsx)(C.a,{id:t,component:"input",name:e.question,type:"radio",value:t}),Object(F.jsx)("label",{htmlFor:t,children:t})]},"".concat(n,"__").concat(t))}))]},"".concat(e,"__").concat(t))})),Object(F.jsx)("button",{children:"Submit"})]})})),Le=Object(i.b)((function(e){return{questions:e.testPage.questions}}))((function(e){return Object(F.jsxs)("div",{children:[Object(F.jsx)("h1",{children:"Test page"}),Object(F.jsx)(Ue,{onSubmit:function(e){console.log(e)},questions:e.questions})]})})),Me="FOLLOW",qe="UNFOLLOW",Be="SET_USERS",ze="SET_LOADER",Re="SET_FETCHING",We={users:[],loader:!1,followingProgress:[]},He=function(e){return{type:ze,payload:e}},Ke=function(e,t){return{type:Re,isFethcing:e,userId:t}},Ze=function(e){return function(t){t(He(!0)),d(e).then((function(e){var n;t(He(!1)),t((n=e.data.items,{type:Be,payload:n}))}))}},Ge=function(e){return function(t){t(Ke(!0,e)),b(e).then((function(n){0===n.data.resultCode&&t({type:Me,userId:e}),t(Ke(!1,e))}))}},Xe=function(e){return function(t){t(Ke(!0,e)),f(e).then((function(n){0===n.data.resultCode&&t({type:qe,userId:e}),t(Ke(!1,e))}))}},Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me:return Object(u.a)(Object(u.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(u.a)(Object(u.a)({},e),{},{followed:!0}):e}))});case qe:return Object(u.a)(Object(u.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(u.a)(Object(u.a)({},e),{},{followed:!1}):e}))});case Be:return Object(u.a)(Object(u.a)({},e),{},{users:t.payload});case ze:return Object(u.a)(Object(u.a)({},e),{},{loader:t.payload});case Re:return Object(u.a)(Object(u.a)({},e),{},{followingProgress:t.isFethcing?[].concat(Object(E.a)(e.followingProgress),[t.userId]):e.followingProgress.filter((function(e){return e!==t.userId}))});default:return e}},Ye=n(125),Ve=n.n(Ye);var Qe=function(){return Object(F.jsx)("div",{children:Object(F.jsx)("img",{className:Ve.a.loader,src:"https://upload.wikimedia.org/wikipedia/commons/5/54/Ajux_loader.gif",alt:""})})},$e=function(e){return Object(F.jsxs)("div",{children:[Object(F.jsx)(H.b,{to:"/profile/".concat(e.user.id),children:Object(F.jsx)("img",{src:"https://www.maupard.com/wp-content/uploads/2016/08/vincent-250x250.jpg",alt:""})}),Object(F.jsx)("div",{children:e.user.name}),Object(F.jsx)("button",{disabled:e.followingProgress.some((function(t){return t===e.user.id})),onClick:function(){e.user.followed?e.onUnFollow(e.user.id):e.onFollow(e.user.id)},children:e.user.followed?"UnFollow":"Follow"}),Object(F.jsxs)("div",{children:[" ",e.user.status," "]})]})},et=n(126),tt=n.n(et),nt=s.a.memo((function(e){for(var t=[],n=0;n<5;n++)t.push(n+1);return Object(F.jsx)("div",{children:Object(F.jsxs)("div",{children:[Object(F.jsx)("div",{children:t.map((function(t){return Object(F.jsx)("button",{className:e.currentPage===t&&tt.a.currentPage,onClick:function(){return function(t){e.onPagination(t)}(t)},children:t})}))}),Object(F.jsx)("div",{children:e.users.map((function(t){return Object(F.jsx)($e,{user:t,followingProgress:e.followingProgress,onUnFollow:e.onUnFollow,onFollow:e.onFollow})}))})]})})})),rt=Object(i.b)((function(e){return{users:e.usersPage.users,loading:e.usersPage.loader,followingProgress:e.usersPage.followingProgress}}),(function(e){return{follow:function(t){e(Ge(t))},unfollow:function(t){e(Xe(t))},getUsersThunk:function(t){e(Ze(t))}}}))((function(e){var t=s.a.useState(1),n=Object(Te.a)(t,2),r=n[0],c=n[1];s.a.useEffect((function(){e.getUsersThunk(1)}),[]);return Object(F.jsx)("div",{children:e.loading?Object(F.jsx)(Qe,{}):Object(F.jsx)(nt,Object(u.a)(Object(u.a)({},e),{},{onFollow:function(t){e.follow(t)},onUnFollow:function(t){e.unfollow(t)},currentPage:r,onPagination:function(e){c(e)},followingProgress:e.followingProgress}))})}));var st=Object(a.f)(Object(i.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){e(w()).then((function(){e({type:y})}))}}})((function(e){return s.a.useEffect((function(){e.initializeApp()}),[]),e.initialized?Object(F.jsxs)("div",{className:"app-wrapper",children:[Object(F.jsx)(ne,{}),Object(F.jsx)(ie,{}),Object(F.jsxs)("div",{className:"app-wrapper-content",children:[Object(F.jsx)(a.b,{exact:!0,path:"/dialogs",render:function(){return Object(F.jsx)(Q,{})}}),Object(F.jsx)(a.b,{exact:!0,path:"/profile/:userId?",render:function(){return Object(F.jsx)(Ce,{})}}),Object(F.jsx)(a.b,{exact:!0,path:"/users",render:function(){return Object(F.jsx)(rt,{})}}),Object(F.jsx)(a.b,{exact:!0,path:"/login",render:function(){return Object(F.jsx)(ce,{})}}),Object(F.jsx)(a.b,{exact:!0,path:"/test",render:function(){return Object(F.jsx)(Le,{})}})]})]}):Object(F.jsx)(Qe,{})}))),ct=n(11),ot=n(127),at=n(117),it={questions:[{id:1,question:"What is the ggg",vars:["genady","hhhh","hello man"],correct:"genady"},{id:2,question:"What is the const",vars:["constant","js value","jj"],correct:"contant"},{id:2,question:"What is the py",vars:["python","spyder","jer"],correct:"python"}]},ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it;return e},lt=Object(ct.c)({profilePage:Oe,dialogsPage:A,usersPage:Je,auth:P,testPage:ut,app:N,form:at.a}),jt=Object(ct.d)(lt,Object(ct.a)(ot.a));window.store=jt,o.a.render(Object(F.jsx)(s.a.StrictMode,{children:Object(F.jsx)(H.a,{children:Object(F.jsx)(i.a,{store:jt,children:Object(F.jsx)(st,{})})})}),document.getElementById("root"))},30:function(e,t,n){e.exports={error:"FormControl_error__2s2BZ",error_message:"FormControl_error_message__1sX0v",summaryError:"FormControl_summaryError__2nICr"}},31:function(e,t,n){e.exports={nav:"Navbar_nav__2vMIn",item:"Navbar_item__35zFB"}},81:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__Srx0D",messages:"Dialogs_messages__3nYaA"}},84:function(e,t,n){e.exports={header:"Header_header__2P2IZ",loginBlock:"Header_loginBlock__3Xtaj"}}},[[280,1,2]]]);
//# sourceMappingURL=main.b8035661.chunk.js.map